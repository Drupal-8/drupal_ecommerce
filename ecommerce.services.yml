services:

  ecommerce.product_entity_repository:
    class: Drupal\ecommerce\Adapters\ProductEntityRepository
    arguments: ['@entity.manager']
  #Repositories
  ecommerce.product_repository:
    class: Drupal\ecommerce\Adapters\ProductRepository
    arguments: ['@entity.manager']
  ecommerce.basket_repository:
    class: Drupal\ecommerce\Adapters\BasketRepository
    arguments: ['@ecommerce.product_entity_repository','@ecommerce.linecart_database_provider']

  #Ecommerce application layer
  ecommerce.manager:
    class: malotor\shoppingcart\Application\Service\ShoppingCartService
    arguments: ['@ecommerce.product_repository','@ecommerce.basket_repository']

  #Ecommerce services
  ecommerce.printer:
    class: Drupal\ecommerce\Services\PrinterService
    arguments: ['@ecommerce.manager']
  ecommerce.router:
    class: Drupal\ecommerce\Services\RouterService


  #Ecommerce LineCart provider
  ecommerce.linecart_database_provider:
    class: Drupal\ecommerce\Components\DataProvider\LineCartDatabaseProvider
    arguments: ['@current_user','@database']
