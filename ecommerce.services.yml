services:

  ecommerce.product_entity_repository:
    class: Drupal\ecommerce\Adapters\ProductEntityRepository
    arguments: ['@entity.manager']
    
  #Repositories
  ecommerce.product_repository:
    class: Drupal\ecommerce\Adapters\ProductRepository
    arguments: ['@entity.manager']
  ecommerce.basket_repository:
    class: Drupal\ecommerce\Adapters\BasketSessionRepository
    arguments: ['@current_user','@ecommerce.product_entity_repository']

  #Ecommerce application layer
  ecommerce.manager:
    class: malotor\shoppingcart\Application\Service\ShoppingCartService
    arguments: ['@ecommerce.product_repository','@ecommerce.basket_repository']

  #Ecommerce services
  ecommerce.printer:
    class: Drupal\ecommerce\Services\PrinterService
    arguments: ['@ecommerce.manager']
  ecommerce.router:
    class: Drupal\ecommerce\Services\RouterService